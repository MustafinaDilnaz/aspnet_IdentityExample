@model MVCIdentityExample.ViewModels.ChangeRoleViewModel

<div asp-validation-summary=All></div>
<h2>Change role for @Model.UserEmail</h2>
<form asp-action="Edit" method ="post">
    <input name="userId" formaction="userId" hidden="hidden" value = "@ViewBag.UserId"/>
    <h4>All Roles</h4>
    <div class="form-group">
        @foreach(var role in Model.AllRoles){
        <input type="checkbox" name="roles" value="@role.Name"
        @(Model.UserRoles.Contains(role.Name) ? 
        "checked=\"checked\"" : "")>@role.Name <br/>
    }
    </div>

    <div class="form-group">
        @foreach(var role in Model.UserRoles)
        {
            <p>@role</p>
        }
    </div>

    <button type="submit" class="btn btn-primary">Edit</button>
</form>